<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Train Your Custom Env</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
            background-color: #333;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 20px;
        }
        h1 {
            font-family: 'Lobster', cursive;
            font-size: 3em;
            margin-bottom: 10px;
        }
        h2 {
            font-size: 2em;
            margin-bottom: 10px;
            text-align: center;
        }
        .checkbox-container, .parameters-container, .form-group {
            margin-bottom: 15px;
            width: 100%;
            max-width: 600px;
        }
        .form-group label {
            font-size: 1.2em;
            display: block;
            margin-bottom: 5px;
        }
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 10px;
            font-size: 1em;
            border: 1px solid #555;
            background-color: #444;
            color: white;
            border-radius: 5px;
        }
        .parameters-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        .checkbox-container label {
            font-size: 1.2em;
            cursor: pointer;
        }
        .form-group input[type="number"] {
            max-width: 250px;
        }
        .form-group textarea {
            resize: none;
        }
        .train-image {
            margin-bottom: 20px;
            max-width: 100%;
        }
        .train-button {
            padding: 15px 30px;
            font-size: 1.2em;
            background-color: #28a745;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Train Your Custom Environment</h1>

    <img id="env-image" alt="Custom Environment Image" class="train-image">

    <h2>Enter Training Parameters</h2>

    <!-- Form action updated to submit to the new route -->
    <form action="/submit_custom_training" method="POST">
        <div class="parameters-container">
            <div class="form-group">
                <label for="env-name">Environment Name</label>
                <input type="text" id="env-name" name="EnvName" placeholder="Environment Name">
            </div>
            <div class="form-group">
                <label for="agent-name">Agent Name</label>
                <input type="text" id="agent-name" name="agentName" placeholder="Agent Name">
            </div>
            <div class="form-group">
                <label for="seed">Seed</label>
                <input type="number" id="seed" name="seed" placeholder="Seed">
            </div>
            <div class="form-group">
                <label for="processes">Number of Processes</label>
                <input type="number" id="processes" name="processes" placeholder="Number of Processes">
            </div>
            <div class="form-group">
                <label for="frames">Number of Frames</label>
                <input type="number" id="frames" name="frames" placeholder="Number of Frames">
            </div>
            <div class="form-group">
                <label for="epochs">Epochs</label>
                <input type="number" id="epochs" name="epochs" placeholder="Epochs">
            </div>
            <div class="form-group">
                <label for="batch-size">Batch Size</label>
                <input type="number" id="batch-size" name="batchSize" placeholder="Batch Size">
            </div>
            <div class="form-group">
                <label for="discount">Discount</label>
                <input type="number" id="discount" name="discount" placeholder="Discount">
            </div>
            <div class="form-group">
                <label for="learning-rate">Learning Rate</label>
                <input type="number" id="learning-rate" name="learningRate" placeholder="Learning Rate">
            </div>
            <div class="form-group">
                <label for="entropy-coef">Entropy Coef</label>
                <input type="number" id="entropy-coef" name="entropyCoef" placeholder="Entropy Coef">
            </div>
            <div class="form-group">
                <label for="adam-epsilon">Optimizer Adam Epsilon</label>
                <input type="number" id="adam-epsilon" name="adamEpsilon" placeholder="Optimizer Adam Epsilon">
            </div>
            <div class="form-group">
                <label for="rmsprop-optimizer">RMSprop Optimizer Alpha</label>
                <input type="number" id="rmsprop-optimizer" name="rmspropOptimizer" placeholder="RMSprop Optimizer Alpha">
            </div>
            <div class="form-group">
                <label for="time-steps">Number of Time-steps Backpropagate</label>
                <input type="number" id="time-steps" name="timeSteps" placeholder="Number of Time-steps Backpropagate">
            </div>
            <div class="form-group">
                <label for="max-norm">Max Norm of Gradient</label>
                <input type="number" id="max-norm" name="maxNorm" placeholder="Max Norm of Gradient">
            </div>
        </div>
    
        <div class="form-group">
            <label for="custom-command">Custom Training Command</label>
            <textarea id="custom-command" name="customCommand" rows="4" placeholder="Enter your custom training command"></textarea>
        </div>
    
        <button type="submit" class="train-button">Train</button>
    </form>
    
    <script>
        async function loadEnvironmentData() {
            const response = await fetch('/load-environment');
            const data = await response.json();

            if (data.envImage) {
                document.getElementById('env-image').src = data.envImage;
            }
        }

        loadEnvironmentData();
    </script>
</body>
</html>
